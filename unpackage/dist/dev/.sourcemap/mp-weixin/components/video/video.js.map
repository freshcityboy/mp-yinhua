{"version":3,"sources":["webpack:///C:/Users/Administrator/Documents/HBuilderProjects/mytest/components/video/video.vue?2a8f","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/mytest/components/video/video.vue?c606","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/mytest/components/video/video.vue?447a","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/mytest/components/video/video.vue?a828","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/mytest/components/video/video.vue","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/mytest/components/video/video.vue?837e","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/mytest/components/video/video.vue?154f"],"names":["timer","props","item","Object","trimVideoUrl","Array","data","isLike","playIndex","showList","order","timeNum","danmuValue","showVideo","src","danmuTime","isCharging","wx","getBatteryInfoSync","showView","isFullscreenchange","isInputing","time","isPlaying","computed","initTime","currentTime","total","length","Number","recentUpdate","week","arr","updateDay","battery","level","localTime","now","Date","hour","getHours","minu","getMinutes","onReady","res","console","log","setInterval","like","getApp","globalData","userInfo","find","vID","videoContext","uni","createVideoContext","setTimeout","seek","onHide","clearInterval","methods","inputTap","pause","onclick","back","exitFullScreen","isValidTap","e","y","detail","screenHeight","getSystemInfo","success","result","toggleShowView","play","clearTimeout","idx","findIndex","obj","assign","push","splice","toggleShowList","Order","reverse","index","$store","dispatch","sendDanmu","showToast","title","openId","text","color","videoErrorCallback","showModal","content","showCancel","timeupdate","duration","parseInt","playInfo","timeStamp","shift","unshift"],"mappings":"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","file":"components/video/video.js","sourcesContent":["import { render, staticRenderFns } from \"./video.vue?vue&type=template&id=354fbafc&scoped=true&\"\nimport script from \"./video.vue?vue&type=script&lang=js&\"\nexport * from \"./video.vue?vue&type=script&lang=js&\"\nimport style0 from \"./video.vue?vue&type=style&index=0&id=354fbafc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"354fbafc\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('354fbafc', component.options)\n    } else {\n      api.reload('354fbafc', component.options)\n    }\n    module.hot.accept(\"./video.vue?vue&type=template&id=354fbafc&scoped=true&\", function () {\n      api.rerender('354fbafc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Documents/HBuilderProjects/mytest/components/video/video.vue\"\nexport default component.exports","export * from \"-!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./video.vue?vue&type=template&id=354fbafc&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.isFullscreenchange = !_vm.isFullscreenchange\n    }\n  }\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./video.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./video.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport api from '../../api/index.js'\nimport {mapState} from \"vuex\"\n\nvar timer;\nexport default {\n\tprops:{\n\t\titem:Object,\n\t\ttrimVideoUrl:Array\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisLike:false,\n\t\t\tplayIndex:null,\n\t\t\tshowList: false,\n\t\t\torder:true,\n\t\t\ttimeNum: 0,\n\t\t\tdanmuValue: '',\n\t\t\tshowVideo: true,\n\t\t\tsrc:'',\n\t\t\tdanmuTime:0, // 发送弹幕的时间\n\t\t\tisCharging: wx.getBatteryInfoSync().isCharging,\n\t\t\tshowView:false,\n\t\t\tisFullscreenchange:false,\n\t\t\tisInputing:false,\n\t\t\ttime: 0  ,// 本地时间戳，用来模拟双击暂停播放\n\t\t\tisPlaying:true ,//是否在播放\n\t\t\ttimer:'', // 定时器\n\t\t}\n\t},\n\tcomputed:{\t\n\t\t...mapState(['danmuList']),\n\t\tinitTime(){\n\t\t\treturn this.item.currentTime\n\t\t},\n\t\ttotal(){\n\t\t\tif(!this.trimVideoUrl.length){\n\t\t\t\treturn Number(this.item.recentUpdate)\n\t\t\t}else{\n\t\t\t\treturn this.trimVideoUrl.length\n\t\t\t}\n\t\t},\n\t\tweek(){\n\t\t\tlet arr = ['日','一','二','三','四','五','六']\n\t\t\treturn arr[this.item.updateDay]\n\t\t},\n\t\tbattery(){\n\t\t\treturn  `${wx.getBatteryInfoSync().level}%`\n\t\t},\n\t\tlocalTime(){\n\t\t\tlet now = new Date(this.time)\n\t\t\tlet hour = now.getHours()\n\t\t\tlet minu = now.getMinutes()\n\t\t\tif(minu < 10){ minu = `0${minu}` }\n\t\t\treturn `${hour}:${minu}`\n\t\t\t\n\t\t}\t\n\t},\n\tonReady: function(res) {\n\t\tconsole.log(this.item);\n\t\tthis.time = Date.now()\n\t\ttimer = setInterval(()=>{ // 每分钟获取一次时间戳，用来同步显示时间\n\t\t\tthis.time = Date.now()\n\t\t},60000)\n\t\t\n\t\tlet like = getApp().globalData.userInfo.like\n\t\tif(like.find(res => res.vID == this.item.vID)){\n\t\t\tthis.isLike =  true\n\t\t}else{\n\t\t\tthis.isLike = false\n\t\t}\n\n\t\tthis.videoContext = uni.createVideoContext('myVideo',this)\n\n\t\tsetTimeout(()=>{\n\t\t\tthis.showVideo = true\n\t\t},500)\n\t\t\n\t\t//根据记录跳转跳转播放\n\t\tthis.item.currentTime && this.seek()\n\t\tconsole.log(this.item.currentTime );\n\t},\n\tonHide() {\n\t\tclearInterval(timer)\n\t},\n\tmethods: {\n\t\tseek(){ //用来跳转到上次播放的时间\n\t\t\tthis.playIndex = this.item.playIndex\n\t\t\tthis.src = this.trimVideoUrl[this.playIndex]\n\t\t},\n\t\tinputTap(){ //点击发送弹幕输入框是暂停播放\n\t\t\t\tthis.isInputing=!this.isInputing\n\t\t\t\tthis.isPlaying = false\n\t\t\t\tthis.videoContext.pause()\t\n\t\t},\n\t\tonclick(){\n\t\t\tconsole.log(123);\n\t\t},\n\t\tback(){ // 退出全屏\n\t\t\tthis.videoContext.exitFullScreen()\n\t\t},\n\t\tisValidTap(e){// 验证在video上的点击结果是否有效\n\t\t\tlet {y} = e.detail ;//点击的y 坐标\n\t\t\tlet screenHeight;\n\t\t\tuni.getSystemInfo({\n\t\t\t    success: function (res) {\n\t\t\t      screenHeight =  res.screenHeight\n\t\t\t    }\n\t\t\t});\n\t\t\tif(this.isFullscreenchange){//如果是全屏下\n\t\t\t\tlet result = y> screenHeight*0.1 && y < screenHeight*0.9\n\t\t\t\tif(!result){\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttoggleShowView(e){\n\t\t\t// if(!this.isValidTap(e)){ return } //若点击不在范围内则不进行下一步\n\t\t\tlet {y} = e.detail ;//点击的y 坐标\n\t\t\tlet screenHeight;\n\t\t\tuni.getSystemInfo({\n\t\t\t    success: function (res) {\n\t\t\t      screenHeight =  res.screenHeight\n\t\t\t    }\n\t\t\t});\n\t\t\tif(this.isFullscreenchange){//如果是全屏下\n\t\t\t\tlet result = y> screenHeight*0.15 && y < screenHeight*0.9\n\t\t\t\tif(!result){\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis.showView = !this.showView\n\t\t\t//如果连续两次的间隔时间过短，就认为是双击暂停播放\n\t\t\tlet time = Date.now() \n\t\t\tif(time-this.time < 300){\n\t\t\t\tconsole.log(123);\n\t\t\t\tthis.isPlaying = !this.isPlaying\n\t\t\t\tthis.isPlaying && this.videoContext.pause()\n\t\t\t\t!this.isPlaying && this.videoContext.play()\n\t\t\t}\n\t\t\tthis.time = time\n\t\t\tconsole.log(this.isPlaying);\n\t\t\tif(this.showView && !this.isInputing){ //如果view图层显示，则在延迟3秒钟后自动关闭\n\t\t\t\tclearTimeout(this.timer)\n\t\t\t\tthis.timer = setTimeout(()=>{\n\t\t\t\t\tthis.showView = false\n\t\t\t\t},3000)\n\t\t\t}\n\t\n\t\t},\n\t\t\n\t\tlike(vID){ // 追番\n\t\t\tthis.isLike = !this.isLike\n\t\t\tlet like = getApp().globalData.userInfo.like\n\t\t\t\n\t\t\tlet idx = like.findIndex(item => {\n\t\t\t\treturn item.vID === vID\n\t\t\t})\n\t\t\tif(idx === -1){ // 如果数组中没有就添加，反之则删除\n\t\t\t\tlet obj = Object.assign(this.item,{playIndex:this.playIndex})\n\t\t\t\tconsole.log(obj);\n\t\t\t\tlike.push(obj)\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tlike.splice(idx,1)\n\t\t\t}\n\n\t\t},\n\t\ttoggleShowList(){\n\t\t\tthis.showList = !this.showList\n\t\t},\n\t\tOrder(){\t\t\n\t\t\tthis.trimVideoUrl = this.trimVideoUrl.reverse() \t\t\n\t\t\tthis.order = !this.order\n\t\t},\n\t\tplay(index){\n\t\t\tthis.src = this.trimVideoUrl[index]\n\t\t\tconsole.log(index,this.trimVideoUrl);\n\t\t\tthis.playIndex = index\n\t\t\t// 获取弹幕资源\n\t\t\tlet obj = {vID:this.item.vID, playIndex:index}\t\n\t\t\tthis.$store.dispatch('getDanMu', obj)\n\t\t},\n\t\tsendDanmu: function() {\n\t\t\tthis.isPlaying = true\n\t\t\tthis.videoContext.play()\n\t\t\tthis.isInputing = !this.isInputing\n\t\t\tlet {danmuValue, playIndex, danmuTime} = this\n\t\t\tif(danmuValue === ''){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle:'弹幕空空如也哦~~'\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\tlet { vID } = this.item\n\t\t\tlet { openId } = getApp().globalData.userInfo\n\t\t\tlet data = {\n\t\t\t\topenId,\n\t\t\t\tvID,\n\t\t\t\ttime:danmuTime,\n\t\t\t\tplayIndex ,\n\t\t\t\ttext : danmuValue,\n\t\t\t\tcolor : '#FFFFFF'\n\t\t\t}\n\t\t\tconsole.log(danmuTime);\n\t\t\tthis.videoContext.sendDanmu({\n\t\t\t                text: danmuValue,\n\t\t\t                color: '#4d9df5'\n\t\t\t            })\n\t\t\t\n\t\t\tthis.danmuValue = '';\n\t\t\tthis.$store.dispatch('addDanMu', data)\n\t\t},\n\t\tvideoErrorCallback: function(e) {\n\t\t\tuni.showModal({\n\t\t\t\tcontent: '抱歉！视频资源地址失效',\n\t\t\t\tshowCancel: false\n\t\t\t})\n\t\t},\n\t\ttimeupdate(e){ // 在播放时记录当前已经播放的时间\n\t\t\t\n\t\t\tlet {currentTime, duration}= e.detail\n\t\t\tthis.danmuTime = parseInt(currentTime) \n\t\t\tlet playInfo = getApp().globalData.playInfo\n\t\t\tlet timeStamp = Date.now()\n\t\t\tlet obj = Object.assign(this.item,e.detail,{'playIndex':this.playIndex},{timeStamp})\n\t\t\tif( currentTime*10 <= 2 || currentTime > this.timeNum ){\n\t\t\t\t!this.isPlaying && (this.isPlaying = true) //播放时自动将isPlaying设为true\n\t\t\t\tthis.timeNum = currentTime + 5\n\t\t\t\tif( playInfo.length !== 0 && (playInfo[0].vID === this.item.vID)){ // 第一项必须存在，再判断vID是否相等\n\t\t\t\t\tplayInfo.shift()\n\t\t\t\t}\n\t\t\t\tplayInfo.unshift(obj) \n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./video.vue?vue&type=style&index=0&id=354fbafc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../AppData/Local/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./video.vue?vue&type=style&index=0&id=354fbafc&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}